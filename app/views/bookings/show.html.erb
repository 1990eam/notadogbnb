<div class="container show-container">
  <h1 class="main-header">My booking</h1>
  <div class="row show-row">
    <div class="col-lg-3 col-6">
      <!-- Card -->
      <div class="card-notdog mb-3">
        <img src=<%= cl_image_path @booking.notdog.photo.key, height: 500, width: 700, crop: :fill %> >
        <div class="card-notdog-infos">
          <div>
            <p class="text-black-50"><%= @booking.notdog.taxonomy_fantasy_name %> (<%= @booking.notdog.taxonomy_name %>)</p>
            <h2><%= link_to @booking.notdog.name, notdog_path(@booking.notdog) %></h2>
            <p><%= @booking.notdog.description %></p>
          </div>
        </div>
      </div>
    </div>
    <div class="infos">
      <div class="col-log-4 details">
        <h2>Other details:</h2>
        <p>Owner: <%= @booking.notdog.owner.name %> </p>
        <p>Fantasy name: <%= @booking.notdog.taxonomy_fantasy_name %></p>
        <p>Location: <%= @booking.notdog.address %></p>
        <p>Total price: USD$<%= @booking.price %></p>
        <p>Start date: <%= @booking.start_date %></p>
        <p>End date: <%= @booking.end_date %></p>
        <div>
          <% unless @booking.end_date > Time.current || @booking.owner == current_user %>
            <%= link_to "Add a Review", new_booking_review_path(@booking) %>
          <% end %>
      </div>
      </div>
        <div class="card-category" id="map"
        style="width: 25vw; height: 25vh;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV["MAPBOX_API_KEY"] %>">
      <!-- Update & Delete -->
      <div>
        <% if policy(@booking).destroy? %>
          <%= link_to "Delete this booking", booking_path(@booking), method: :delete, data: { confirm: 'Are you certain you want to delete this?' }  %>
        <% end %>
      </div>
    </div>
  </div>
</div>

